<!DOCTYPE html >
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
<meta charset="UTF-8">
<title>purchaseHistory</title>
</head>
<body>
	<div th:fragment="productListLayout_contents">

	<h1 class="titleDesign">商品購入履歴</h1>


	<table class="table table-hover table-bordered" th:each="purchasedto : ${purchaseList}">

		<tr>
			<th class="text-center">購入日</th>
			<th class="text-center">商品名</th>
			<th class="text-center">値段</th>
			<th class="text-center">購入数</th>
			<th class="text-center">メモリ</th>
			<th class="text-center">ハードディスク</th>
			<th class="text-center">CPU</th>
			<th class="text-center">レビュー</th>
			<th class="text-center">商品問題</th>
		</tr>

		<tr>
			<td class="text-center" th:text="${#dates.format(purchasedto.purchase_date, 'yyyy/MM/dd HH:mm')}"></td>
			<td class="text-center" th:text="${purchasedto.pcName}"></td>
			<td class="text-center" th:text="${purchasedto.totalPrice}"></td>
			<td class="text-center" th:text="${purchasedto.product_count}"></td>
			<td class="text-center" th:text="${purchasedto.memory}"></td>
			<td class="text-center" th:text="${purchasedto.hardDisc}"></td>
			<td class="text-center" th:text="${purchasedto.cpu}"></td>
			<td class="text-center"><a th:href="@{'/reviewAdd' + '/' + ${purchasedto.purchaseId}} " class="btn btn-primary">口コミを書く</a></td>
			<td th:if="${purchasedto.cancelCheck} == ${confirmationPending} and ${purchasedto.cancelResult} == 'true'"><a th:href="@{'/confirmationPending' + '/' + ${purchasedto.purchaseId}} " class="btn btn-primary">返品商品確認待ち</a></td>
			<td th:if="${purchasedto.cancelCheck} == ${inTransaction} and ${purchasedto.cancelResult} == 'true'"><a th:href="@{'/cancelInTransaction' + '/' + ${purchasedto.purchaseId}} " class="btn btn-primary">キャンセル取引中</a></td>
			<td th:if="${purchasedto.cancelCheck == null} and ${purchasedto.cancelResult} == 'true'" class="text-center"><a th:href="@{'/cancel' + '/' + ${purchasedto.purchaseId}} " class="btn btn-primary">商品キャンセル</a></td>
			<td th:if="${purchasedto.cancelResult} == 'false'" class="text-center">キャンセル期間外</td>
		</tr>

	</table>
	</div>
</body>
</html>